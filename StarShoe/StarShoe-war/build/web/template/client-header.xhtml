<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- Premium responsive header with inline CSS -->
    <header style="width:100%;position:fixed;top:0;left:0;z-index:999;background:linear-gradient(135deg, #ffffff 0%, #fafafa 100%);box-shadow:0 8px 32px rgba(0,0,0,0.12);backdrop-filter:blur(10px);">
        <div style="max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:16px 24px;gap:24px;">

            <!-- Left: logo + brand name -->
            <div style="display:flex;align-items:center;gap:14px;min-width:180px;flex-shrink:0;">
                <div style="position:relative;width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg, #ff6b00, #ffb347);display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px rgba(255,107,0,0.3);overflow:hidden;">
                    <h:graphicImage library="images" name="logo.png" style="width:50px;height:50px;border-radius:10px;object-fit:cover;"/>
                </div>
                <div style="display:flex;flex-direction:column;gap:2px;">
                    <a href="#{request.contextPath}/client/index.xhtml" style="text-decoration:none;color:#1a1a1a;font-weight:800;font-size:20px;letter-spacing:-0.5px;">StarShoe</a>
                    <span style="font-size:11px;color:#888;font-weight:600;letter-spacing:0.5px;">PREMIUM FOOTWEAR</span>
                </div>
            </div>

            <!-- Center: main nav (hidden on tablets/mobile) -->
            <nav aria-label="Main Navigation" style="flex:1;display:flex;justify-content:center;min-width:0;">
                <ul style="display:flex;gap:28px;align-items:center;margin:0;padding:0;list-style:none;">
                    <li style="list-style:none;"><a href="#{request.contextPath}/client/index.xhtml" style="text-decoration:none;color:#333;font-weight:600;font-size:15px;position:relative;transition:all 0.3s ease;padding:8px 0;display:inline-block;" onmouseover="this.style.color='#ff6b00'" onmouseout="this.style.color='#333'">Home</a></li>
                    <li><a href="#{request.contextPath}/client/sneaker.xhtml" style="text-decoration:none;color:#333;font-weight:600;font-size:15px;position:relative;transition:all 0.3s ease;padding:8px 0;display:inline-block;" onmouseover="this.style.color='#ff6b00'" onmouseout="this.style.color='#333'">Sneaker</a></li>
                    <li><a href="#{request.contextPath}/client/running.xhtml" style="text-decoration:none;color:#333;font-weight:600;font-size:15px;position:relative;transition:all 0.3s ease;padding:8px 0;display:inline-block;" onmouseover="this.style.color='#ff6b00'" onmouseout="this.style.color='#333'">Running</a></li>
                    <li><a href="#{request.contextPath}/client/casual.xhtml" style="text-decoration:none;color:#333;font-weight:600;font-size:15px;position:relative;transition:all 0.3s ease;padding:8px 0;display:inline-block;" onmouseover="this.style.color='#ff6b00'" onmouseout="this.style.color='#333'">Casual</a></li>
                    <li><a href="#{request.contextPath}/client/training.xhtml" style="text-decoration:none;color:#333;font-weight:600;font-size:15px;position:relative;transition:all 0.3s ease;padding:8px 0;display:inline-block;" onmouseover="this.style.color='#ff6b00'" onmouseout="this.style.color='#333'">Training</a></li>
                    <li><a href="#{request.contextPath}/client/sport.xhtml" style="text-decoration:none;color:#333;font-weight:600;font-size:15px;position:relative;transition:all 0.3s ease;padding:8px 0;display:inline-block;" onmouseover="this.style.color='#ff6b00'" onmouseout="this.style.color='#333'">Sport</a></li>
                </ul>
            </nav>

            <!-- Right: search, cart, user (premium) -->
            <div style="display:flex;align-items:center;gap:20px;flex-shrink:0;">
                <a href="#{request.contextPath}/client/about.xhtml" style="text-decoration:none;color:#555;font-weight:600;font-size:15px;padding:8px 16px;border-radius:8px;transition:all 0.3s ease;" onmouseover="this.style.backgroundColor='#f0f0f0';this.style.color='#ff6b00'" onmouseout="this.style.backgroundColor='transparent';this.style.color='#555'">About</a>

                <h:form prependId="false" style="margin:0;">
                    <div style="display:flex;align-items:center;gap:12px;background:linear-gradient(135deg, #f5f5f5, #ffffff);padding:10px 14px;border-radius:10px;border:1.5px solid #e0e0e0;transition:all 0.3s ease;" onmouseover="this.style.borderColor='#ff6b00';this.style.boxShadow='0 4px 16px rgba(255,107,0,0.15)'" onmouseout="this.style.borderColor='#e0e0e0';this.style.boxShadow='none'">
                        <h:inputText value="#{productClientMB.searchKeyword}" style="border:none;background:transparent;outline:none;width:180px;font-size:14px;color:#333;" >
                            <f:passThroughAttribute name="placeholder" value="Search products..." />
                        </h:inputText>
                        <h:commandLink action="#{productClientMB.search}" style="display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;cursor:pointer;transition:all 0.3s ease;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
                            <h:graphicImage library="images" name="search.png" style="width:18px;height:18px;filter:brightness(0.6);"/>
                        </h:commandLink>
                    </div>
                </h:form>

                <div style="position:relative;display:flex;align-items:center;">
                    <a href="#{request.contextPath}/client/cart.xhtml" style="display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg, #fafafa, #f5f5f5);border:1.5px solid #e8e8e8;transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#ff6b00';this.style.borderColor='#ff6b00';this.style.boxShadow='0 6px 20px rgba(255,107,0,0.25)'" onmouseout="this.style.backgroundColor='';this.style.borderColor='#e8e8e8';this.style.boxShadow='none'">
                        <h:graphicImage library="images" name="cart.png" style="width:24px;height:24px;"/>
                    </a>
                    <h:panelGroup rendered="#{cartMB.totalItems > 0}">
                        <span style="position:absolute;top:-8px;right:-8px;background:linear-gradient(135deg, #ff6b00, #ff8c42);color:#fff;font-size:11px;padding:5px 7px;border-radius:12px;font-weight:700;box-shadow:0 4px 12px rgba(255,107,0,0.4);min-width:24px;text-align:center;">#{cartMB.totalItems}</span>
                    </h:panelGroup>
                </div>

                <h:panelGroup rendered="#{loginMB.loggedUser != null}" style="position:relative;">
                    <span style="cursor:pointer;color:#333;font-weight:700;font-size:15px;padding:8px 14px;border-radius:8px;transition:all 0.3s ease;display:inline-block;" onclick="this.nextElementSibling.classList.toggle('show')" onmouseover="this.style.backgroundColor='#f0f0f0';this.style.color='#ff6b00'" onmouseout="if(!this.nextElementSibling.classList.contains('show')){this.style.backgroundColor='transparent';this.style.color='#333'}">#{loginMB.displayName}</span>
                    <div style="position:absolute;right:0;top:45px;background:#fff;padding:12px 0;border-radius:12px;box-shadow:0 12px 32px rgba(0,0,0,0.15);display:none;min-width:180px;border:1px solid #e8e8e8;" class="user-dropdown">
                        <a href="#{request.contextPath}/client/profile.xhtml" style="display:block;padding:12px 16px;color:#333;text-decoration:none;font-weight:600;font-size:14px;transition:all 0.3s ease;" onmouseover="this.style.backgroundColor='#f5f5f5';this.style.color='#ff6b00'" onmouseout="this.style.backgroundColor='transparent';this.style.color='#333'">Profile</a>
                        <h:form><h:commandLink action="#{loginMB.logout}" value="Logout" style="display:block;padding:12px 16px;color:#c00;text-decoration:none;font-weight:600;font-size:14px;transition:all 0.3s ease;border-top:1px solid #e8e8e8;" onmouseover="this.style.backgroundColor='#fff5f5'" onmouseout="this.style.backgroundColor='transparent'" /></h:form>
                    </div>
                </h:panelGroup>

                <h:panelGroup rendered="#{loginMB.loggedUser == null}">
                    <a href="#{request.contextPath}/login.xhtml" style="display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg, #fafafa, #f5f5f5);border:1.5px solid #e8e8e8;transition:all 0.3s ease;cursor:pointer;" onmouseover="this.style.backgroundColor='#ff6b00';this.style.borderColor='#ff6b00';this.style.boxShadow='0 6px 20px rgba(255,107,0,0.25)'" onmouseout="this.style.backgroundColor='';this.style.borderColor='#e8e8e8';this.style.boxShadow='none'">
                        <h:graphicImage library="images" name="user.png" style="width:22px;height:22px;"/>
                    </a>
                </h:panelGroup>
            </div>
        </div>

        <!-- Responsive behavior with inline styles -->
        <style>
            /* Desktop (1024px and up) - all visible */
            @media (max-width: 1023px) {
                nav[aria-label="Main Navigation"] ul { gap: 16px !important; }
                nav[aria-label="Main Navigation"] a { font-size: 14px !important; }
            }
            
            /* Tablet (768px - 1023px) - nav collapsed */
            @media (max-width: 768px) {
                nav[aria-label="Main Navigation"] { display: none !important; }
                header div:first-child { padding: 12px 16px !important; gap: 16px !important; }
                header > div > div:last-child { gap: 14px !important; }
                h\:form { display: none !important; }
                a[href$="about.xhtml"] { display: none !important; }
            }
            
            /* Mobile (up to 767px) - minimal layout */
            @media (max-width: 600px) {
                nav[aria-label="Main Navigation"] { display: none !important; }
                header div { padding: 10px 12px !important; gap: 12px !important; }
                header > div > div:first-child { min-width: 140px !important; gap: 10px !important; }
                header > div > div:first-child h:graphicImage { width: 48px !important; height: 48px !important; }
                header > div > div:first-child a { font-size: 18px !important; }
                header > div > div:first-child span { font-size: 10px !important; }
                header > div > div:last-child { gap: 10px !important; }
                h\:form { display: none !important; }
                a[href$="about.xhtml"] { display: none !important; }
                .user-dropdown { right: -10px !important; top: 40px !important; }
            }

            .user-dropdown.show {
                display: block !important;
            }
        </style>

    </header>

<!-- Spacer to offset fixed header so page content is not hidden behind it -->
<div style="height:76px; width:100%;"></div>

<style>
    /* Adjust spacer for different breakpoints to match header height */
    @media (max-width:1023px) { div[style*="height:76px"] { height:72px !important; } }
    @media (max-width:600px) { div[style*="height:76px"] { height:68px !important; } }
</style>
</ui:composition>
